<!-- Main navigation for mobile -->
<div class="navigation-mobile-wrapper">
  <div class="navigation-mobile-icon">
    <mcs-icon [key]="toggleIconKey" size="large" (click)="open()"></mcs-icon>
  </div>

  <!-- Macquarie Link View -->
  <div class="macquarie-link">
    <a [href]="macquarieViewUrl" target="_blank">
      <mcs-icon [key]="arrowUpIconKey" size="large"></mcs-icon>
      <span>Macquarie View</span>
    </a>
  </div>
</div>

<!-- Navigation list from template binding -->
<div #navigationList class="navigation-mobile-list"
  animate [trigger]="slideTrigger" style="display: none;"
  scrollable="dark" scrollbarSize="small">

  <!-- Title -->
  <div class="navigation-mobile-item navigation-mobile-title">
    <h3>Macquarie Cloud Services Portal</h3>
    <mcs-icon [key]="closeIconKey" color="white"
      cursor="pointer" (click)="close()"></mcs-icon>
  </div>

  <!-- Navigation items -->
  <ng-content></ng-content>

  <!-- Logout Item -->
  <div class="navigation-item">
    <mcs-icon [key]="caretRightIconKey" color="white"></mcs-icon>
    <a cursor="pointer" (click)="logout($event)">Logout</a>
  </div>

  <!-- Account panel Item -->
  <div *mcsHasPermission="['CompanyView']"
    class="navigation-mobile-item navigation-account-panel-wrapper" >
    <div class="user-account-trigger">
      <div class="labelled-icon" display-flex justify-content="space-between"
        cursor="pointer" (click)="toggleAccountPanel()">
        <a class="user-name">{{ firstName }} {{ lastName }}</a>
        <mcs-icon [@indicatorIcon]="switchAccountAnimation"
          [key]="caretDownIconKey" color="white"></mcs-icon>
      </div>
      <small read-only>{{ getActiveAccount()?.name }}</small>
    </div>
    <div [@bodyExpansion]="switchAccountAnimation" class="switch-account-panel">
      <div class="account-details">
        <mcs-account-panel></mcs-account-panel>
      </div>

      <div class="switch-account-details">
        <mcs-switch-account (selectionChanged)="close()"></mcs-switch-account>
      </div>
    </div>
  </div>
</div>