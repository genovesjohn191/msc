<label [attr.for]="id" class="checkbox-layout-wrapper" #checkbox>
  <div class="checkbox-inner-container">
    <!-- Checkbox element -->
    <input #inputElement hidden
      [ngStyle]="{position: 'absolute'}"
      type="checkbox"
      [id]="id"
      [attr.tabindex]="tabindex"
      [indeterminate]="indeterminate"
      (click)="onClickEvent($event)"
      (change)="onChange($event)"
      (blur)="onBlur()">

    <div class="checkbox-icon">
      <!-- Ripple Effect -->
      <mcs-ripple class="checkbox-ripple-wrapper"
        mcsRipple [rippleTrigger]="checkbox" [rippleCentered]="true">
      </mcs-ripple>

      <!-- Checkbox Icon -->
      <mcs-icon [key]="checkboxIconKey" size="small"
        [color]="checked || indeterminate ? 'primary' : color"></mcs-icon>
    </div>
  </div>

  <!-- Checkbox spacer -->
  <span *ngIf="labelRef?.textContent.trim()" class="checkbox-spacer"></span>

  <!-- Checkbox label -->
  <span class="checkbox-label" #labelRef>
    <!-- Add an invisible span so JAWS can read the label -->
    <span style="display:none">&nbsp;</span>
    <ng-content></ng-content>
  </span>
</label>