<ng-container [ngSwitch]="hasJobs">
  <!-- When job received -->
  <ng-container *ngSwitchCase="true">
    <div class="jobs-provisioning-container">
      <!-- Progress Information -->
      <div class="vertical-items-spacing-medium">
        <ng-content *ngIf="hasInProgressJob" select="[mcsProvisioningText]"></ng-content>
        <h2 class="title">{{ getTitle() }}</h2>
        <ng-container *ngIf="!isProgressbarHidden">
          <mcs-progress-bar [@fadeIn]
            [(ngModel)]="progressValue"
            [maxValue]="progressMax"></mcs-progress-bar>
        </ng-container>
      </div>

      <!-- Job Details -->
      <div class="jobs-container">
        <div *ngFor="let job of jobs">
          <h2 *ngIf="isMultiJobs">{{ job.description }}</h2>

          <!-- Tasks content -->
          <div class="task-content" *ngIf="job.tasks">
            <div *ngFor="let task of job.tasks" class="status-details">
              <div [ngSwitch]="task.dataStatus">
                <!-- In progress -->
                <ng-container *ngSwitchCase="dataStatusEnum.InProgress">
                  <mcs-item>
                    <mcs-loader size="small"></mcs-loader>
                    <span read-only>{{ task.description }}</span>
                  </mcs-item>
                </ng-container>

                <!-- Success -->
                <ng-container *ngSwitchCase="dataStatusEnum.Success">
                  <mcs-item>
                    <mcs-icon [key]="successIconKey" size="small"></mcs-icon>
                    <span read-only>{{ task.description }}</span>
                  </mcs-item>
                </ng-container>

                <!-- Error -->
                <ng-container *ngSwitchCase="dataStatusEnum.Error">
                  <mcs-item>
                    <mcs-icon [key]="errorIconKey" size="small"></mcs-icon>
                    <span read-only>{{ task.description }}</span>
                  </mcs-item>
                </ng-container>
              </div>
            </div>
          </div>

          <!-- Job ended -->
          <div *ngIf="isJobEnded(job)" class="job-completed">

            <div [ngSwitch]="job.dataStatus">
              <!-- In progress -->
              <ng-container *ngSwitchCase="dataStatusEnum.InProgress">
                <mcs-item>
                  <mcs-loader size="small"></mcs-loader>
                  <span>{{ textContent.deploymentInProgress }}</span>
                </mcs-item>
              </ng-container>

              <!-- Success -->
              <ng-container *ngSwitchCase="dataStatusEnum.Success">
                <mcs-item>
                  <mcs-icon [key]="successIconKey" size="small"></mcs-icon>
                  <span>{{ textContent.deploymentCompleted }}</span>
                </mcs-item>
                <div margin-top-medium>
                  <mcs-item>
                    <a mcsButton arrow="right" size="small"
                      [mcsRouterLink]="job.resourceLink" mcsId="view-job">
                      {{ textContent.viewDetails }}
                    </a>
                  </mcs-item>
                </div>
              </ng-container>

              <!-- Error -->
              <ng-container *ngSwitchCase="dataStatusEnum.Error">
                <mcs-alert type="error" [header]="textContent.deploymentFailed">
                  <span>{{ job.errorMessage }}</span>
                </mcs-alert>
              </ng-container>
            </div>
          </div>
        </div>
      </div>
    </div>
  </ng-container>

  <!-- When no job received yet -->
  <ng-container *ngSwitchCase="false">
    <mcs-item>
      <mcs-loader size="small"></mcs-loader>
      <span read-only>{{ textContent.deploymentInProgress }}</span>
    </mcs-item>
  </ng-container>
</ng-container>

