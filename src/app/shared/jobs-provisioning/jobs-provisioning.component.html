<section>
  <!-- In Progress Text -->
  <div *ngIf="loadingTextIsDisplay">
    <ng-container *ngTemplateOutlet="jobsProvisioningLoadingText?.templateRef"></ng-container>
  </div>

  <!-- Progress bar -->
  <ng-container *ngIf="!isProgressbarHidden">
    <mcs-progress-bar [@fadeIn]
      [(ngModel)]="progressValue"
      [maxValue]="progressMax"></mcs-progress-bar>
  </ng-container>

  <!-- Job Details -->
  <section *ngFor="let job of jobs">
    <h2>{{ job.description }}</h2>

    <!-- Tasks content -->
    <ng-container *ngIf="job.tasks">
      <mcs-list *ngFor="let task of job.tasks">

        <mcs-item orientation="block">
          <mcs-item>
            <mcs-loader *ngIf="task.inProgress" size="small"></mcs-loader>
            <mcs-icon *ngIf="!task.inProgress"
              [key]="getStatusIconKey(task.dataStatus)" size="small"></mcs-icon>
            <span>{{ task.description }}</span>
          </mcs-item>

          <mcs-item *ngIf="task.summaryInformation" read-only margin-left-xlarge>
            <mcs-icon [key]="dotIconKey" size="xxsmall"></mcs-icon>
            <span>{{ task.summaryInformation }}</span>
          </mcs-item>
        </mcs-item>
      </mcs-list>
    </ng-container>

    <!-- Job content when ended -->
    <mcs-list *ngIf="!job.inProgress">

      <ng-container [ngSwitch]="job.dataStatus">
        <!-- Job Success -->
        <ng-container *ngSwitchCase="dataStatusEnum.Success">
          <mcs-alert type="success" [header]="job.summaryInformation"></mcs-alert>
          <mcs-item *ngIf="job.resourceLink">
            <a mcsButton arrow="right" size="small" mcsId="view-job" margin-top-small
              [mcsRouterLink]="job.resourceLink">
              {{ textContent.viewDetails }}
            </a>
          </mcs-item>
        </ng-container>

        <!-- Job Error -->
        <ng-container *ngSwitchCase="dataStatusEnum.Error">
          <mcs-alert type="error" [header]="job.summaryInformation">
            <span>{{ job.errorMessage }}</span>
          </mcs-alert>
        </ng-container>
      </ng-container>
    </mcs-list>
  </section>
</section>