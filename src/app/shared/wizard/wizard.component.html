<!-- Steps template declaration -->
<ng-template #stepsTemplate>
  <div class="wizard-steps-items" scrollable scrollbarId="wizard-items">
    <div class="step-item" *ngFor="let step of steps; let idx = index"
      (click)="moveStepTo(step)"
      [hidden]="step.hidden"
      [ngClass]="{
        'active': step.isActive,
        'enabled': step.enabled,
        'disabled': !step.enabled,
        'completed': isCompleted
      }">
      <div class="step-completed-icon">
        <mcs-icon *ngIf="step.completed" [key]="checkIconKey"
          size="small" color="primary"></mcs-icon>
      </div>
      <div class="step-title">
        <strong>{{ (idx + 1) }}</strong>
        <strong>{{ step.stepTitle }}</strong>
      </div>
    </div>
  </div>
</ng-template>

<!-- Left panel wrapper in case of desktop -->
<div class="wizard-left-panel-wrapper hidden-small">
  <div class="wizard-steps-header">
    <h4 read-only>{{ textContent.steps }}</h4>
  </div>
  <ng-container *ngTemplateOutlet="stepsTemplate"></ng-container>
</div>

<!-- Content panel generation -->
<div class="wizard-content-panel-wrapper">
  <div class="wizard-top-header">
    <ng-container *ngIf="headerTemplate">
      <ng-container *ngTemplateOutlet="headerTemplate"></ng-container>
    </ng-container>
    <ng-container *ngIf="!headerTemplate">
      <h3>{{ header }}</h3>
    </ng-container>
    <ng-container mcsWizardTopPanelPlaceholder></ng-container>
  </div>

  <!-- Top panel wrapper in case of mobile -->
  <div class="wizard-top-panel-mobile-wrapper">
    <ng-container *ngTemplateOutlet="stepsTemplate"></ng-container>
  </div>

  <!-- Active steps content -->
  <div class="wizard-steps-content" scrollable scrollbarId="wizard-content">
    <ng-template [ngTemplateOutlet]="activeStep?.templateRef"></ng-template>
  </div>
</div>