<!-- File Attachment error dialog -->
<ng-template #errorDialogTemplate let-message="data.message">
  <mcs-dialog>
    <mcs-dialog-header [dialogRefTemplate]="errorDialogRef">
      <h3>{{ textContent.errorCaption }}</h3>
    </mcs-dialog-header>

    <mcs-dialog-content>
      <div class="labelled-icon">
        <mcs-icon [key]="errorIconKey" color="red"></mcs-icon>
        <p>{{ message }}</p>
      </div>
    </mcs-dialog-content>

    <mcs-dialog-actions>
      <button mcsButton id="ctaCloseAttachment"
        class="right-align"
        arrow="right"
        size="small" (click)="errorDialogRef?.close()">
        {{ textContent.ok }}
      </button>
    </mcs-dialog-actions>
  </mcs-dialog>
</ng-template>

<!-- File Attachment Dropzone -->
<div class="attachment-wrapper dropzone"
  ng2FileDrop [ngClass]="{'file-hover': hasDropZone}"
  (fileOver)="onFileOver($event)"
  [uploader]="fileUploader">

  <!-- File Selection Zone Area -->
  <div class="attachment-filezone-wrapper">

    <!-- Drop zone -->
    <mcs-icon [key]="cloudUploadBlueIconKey" size="xxlarge"></mcs-icon>
    <span read-only>{{ textContent.dragDropZone }}</span>
    <span read-only>or</span>

    <!-- Selection zone -->
    <button mcsButton id="ctaChooseFile"
      size="small" (click)="chooFileElement.click()">
      <input #chooFileElement type="file"
        ng2FileSelect [uploader]="fileUploader" (change)="onSelectFile()"/>
      {{ textContent.chooseFile }}
    </button>
  </div>
</div>

<!-- Attached files -->
<div class="attached-files-wrapper" *ngIf="attachedFiles">
  <ul class="inline-list rollover">
    <li (click)="removeAttachment(attachedItem)"
      class="enable-pointer"
      *ngFor="let attachedItem of attachedFiles">
      <mcs-icon [key]="closeIconKey" size="small"></mcs-icon>
      <span>{{ attachedItem?.file.name }}</span>
    </li>
  </ul>
</div>