<!-- Page Header with title, subtitle (for total record), and description -->
<mcs-page-header class="page-header-wrapper">
  <mcs-page-title *mcsPageTitleDef>
    {{ textContent.header }}
  </mcs-page-title>
  <mcs-page-description *mcsPageDescriptionDef>
    {{ textContent.description }}
  </mcs-page-description>
</mcs-page-header>

<!-- Table with filtering and pagination -->
<div class="notifications-table-wrapper">
    <!-- Search -->
    <div class="search-wrapper">
      <mcs-search #search class="search"></mcs-search>

      <mcs-filter-selector class="hidden-small" [key]="columnSettingsKey"
        (onGetFilters)="updateColumnSettings($event)"></mcs-filter-selector>

      <span class="record-count">{{ totalRecordCount }} {{ textContent.header }}</span>
    </div>

    <!-- Table -->
    <mcs-table [dataSource]="dataSource">

      <!-- Status Column -->
      <ng-container mcsColumnDef="status">
        <mcs-header-cell *mcsHeaderCellDef>
          {{ columnSettings.status.text }}
        </mcs-header-cell>
        <mcs-data-cell *mcsDataCellDef="let row" class="text-center">
          <mcs-icon [key]="getStatusIconKey(row.status)"
            [color]="getStatusIconColor(row.status)" size="small"></mcs-icon>
        </mcs-data-cell>
      </ng-container>

      <!-- User Column -->
      <ng-container mcsColumnDef="user">
        <mcs-header-cell *mcsHeaderCellDef>
          {{ columnSettings.user.text }}
        </mcs-header-cell>
        <mcs-data-cell *mcsDataCellDef="let row">
            {{ row.ownerName }}
        </mcs-data-cell>
      </ng-container>

      <!-- Notification Column -->
      <ng-container mcsColumnDef="notification">
        <mcs-header-cell *mcsHeaderCellDef>
          {{ columnSettings.notification.text }}
        </mcs-header-cell>
        <mcs-data-cell *mcsDataCellDef="let row">
          <a href="#">
            {{ row.description }}<br/>
            {{ row.summaryInformation }}
          </a>
        </mcs-data-cell>
      </ng-container>

      <!-- Start Time Column -->
      <ng-container mcsColumnDef="startTime">
        <mcs-header-cell *mcsHeaderCellDef class="hidden-small">
          {{ columnSettings.startTime.text }}
        </mcs-header-cell>
        <mcs-data-cell *mcsDataCellDef="let row" class="hidden-small">
            {{ convertDateTimeToString(row.startedOn) }}
        </mcs-data-cell>
      </ng-container>

      <!-- Completed Column -->
      <ng-container mcsColumnDef="completed">
        <mcs-header-cell *mcsHeaderCellDef class="hidden-small">
          {{ columnSettings.completed.text }}
        </mcs-header-cell>
        <mcs-data-cell *mcsDataCellDef="let row" class="hidden-small">
            {{ convertDateTimeToString(row.endedOn) }}
        </mcs-data-cell>
      </ng-container>

      <!-- VDC Column -->
      <ng-container mcsColumnDef="vdc">
        <mcs-header-cell *mcsHeaderCellDef class="hidden-small">
          {{ columnSettings.vdc.text }}
        </mcs-header-cell>
        <mcs-data-cell *mcsDataCellDef="let row" class="hidden-small">
          M2VDC27117006
        </mcs-data-cell>
      </ng-container>

      <!-- Header and Data row -->
      <mcs-header-row *mcsHeaderRowDef="dataColumns"></mcs-header-row>
      <mcs-data-row *mcsDataRowDef="let row; columns: dataColumns;"></mcs-data-row>
    </mcs-table>

    <div class="message-wrapper" *ngIf="displayErrorMessage">
      <!-- Message when error encountered -->
      <div *ngIf="successfullyObtained === false">
        <span>{{ textContent.errorMessage }}</span>
        <a (click)="retryDatasource()">Try again shortly</a>.
      </div>

      <!-- Message when no notifications found -->
      <div *ngIf="noNotificationsFound">
        <span>{{ textContent.noNotifications }}</span>
      </div>
    </div>

    <!-- Paginator -->
    <mcs-paginator #paginator
      [totalCount]="totalRecordCount"
      [pageIndex]="0"
      [pageSize]="25">
    </mcs-paginator>
  </div>