<form [formGroup]="fgNewServer" mcsFormGroup>
  <!-- Server Name Input -->
  <div class="field">
    <mcs-form-field>
      <input mcsInput #serverNameInput set-focus
        placeholder="Enter a server name" maxlength="15"
        [formControl]="fcServerName"
        [mcsContextualHelp]="textHelpContent.serverNameField">

      <mcs-hint mcsHint align="start">
        {{ convertMaxCharText(textContent.hints.serverNameMax, serverNameInput.maxLength) }}
      </mcs-hint>
      <mcs-hint mcsHint align="end">
        {{ serverNameInput.value.length }} / {{ serverNameInput.maxLength }}
      </mcs-hint>

      <mcs-error mcsError errorState="required">
        {{ textContent.errors.serverNameRequired }}
      </mcs-error>
      <mcs-error mcsError errorState="invalidServerName">
        {{ textContent.errors.invalidServerName }}
      </mcs-error>
    </mcs-form-field>
  </div>

  <!-- Virtual Applications Selection -->
  <div class="field">
    <mcs-form-field>
      <mcs-select [formControl]="fcVApp"
        [mcsContextualHelp]="textHelpContent.vAppField"
        [placeholder]="textContent.placeholder.vApp">
        <mcs-select-item>-</mcs-select-item>
        <mcs-select-group [header]="textContent.headers.vApp">
          <mcs-select-item *ngFor="let vApp of vAppItems" [value]="vApp.value">
            {{ vApp.text }}
          </mcs-select-item>
        </mcs-select-group>
      </mcs-select>

      <mcs-error mcsError errorState="required">
        {{ textContent.errors.selectVappRequired }}
      </mcs-error>
    </mcs-form-field>
  </div>

  <!-- Imges Selection -->
  <div class="field">
    <mcs-form-field>
      <mcs-select [formControl]="fcImage"
        [placeholder]="textContent.placeholder.image"
        [mcsContextualHelp]="textHelpContent.serverTemplateField">
        <mcs-select-item>-</mcs-select-item>
        <mcs-select-group *ngIf="serverOsItems" [header]="textContent.headers.os">
          <mcs-select-item *ngFor="let platform of serverOsItems">
            {{ platform.group }}
            <mcs-select-group sub-group>
              <mcs-select-item *ngFor="let os of platform.items" [value]="os.value">
                {{ os.text }}
              </mcs-select-item>
            </mcs-select-group>
          </mcs-select-item>
        </mcs-select-group>

        <mcs-select-group *ngIf="serverTemplateItems" [header]="textContent.headers.templates">
          <mcs-select-item *ngFor="let template of serverTemplateItems" [value]="template.value">
            {{ template.text }}
          </mcs-select-item>
        </mcs-select-group>
      </mcs-select>

      <mcs-error mcsError errorState="required">
        {{ textContent.errors.selectImageRequired }}
      </mcs-error>
    </mcs-form-field>
  </div>

  <!-- Server RAM -->
  <div class="field">
    <mcs-server-performance-scale
      [memoryMB]="memoryMB" [cpuCount]="cpuCount"
      [mcsContextualHelp]="textHelpContent.computeField"
      [availableMemoryMB]="availableMemoryMB" [availableCpuCount]="availableCpuCount"
      (scaleChanged)="onScaleChanged($event)">
      <!--Performance scale contents on the left hand side (title and description)-->
      <div title>
        <span class="label no-line-height">{{ textContent.computeSizeLabel }}</span>
      </div>
    </mcs-server-performance-scale>
  </div>

  <!-- Storage Management -->
  <div class="field" *ngIf="storageItems">
    <mcs-server-manage-storage
      [memoryMB]="storageMemoryMB"
      [availableMemoryMB]="storageAvailableMemoryMB"
      [minimumMB]="storageMemoryMB"
      [storageProfileList]="storageItems"
      [storageSliderValues]="storageSliderValues"
      [mcsContextualHelp]="textHelpContent.storageField"
      (storageChanged)="onStorageChanged($event)">
      <!--Server manage storage contents on the left hand side (title and description)-->
      <div title>
        <span class="label no-line-height">{{ textContent.storageLabel }}</span>
      </div>
    </mcs-server-manage-storage>
  </div>

  <!-- Network Selection -->
  <div class="field">
    <span class="label">{{ textContent.networkLabel }}</span>
    <mcs-form-field>
      <mcs-select [formControl]="fcNetwork" [placeholder]="textContent.placeholder.network"
        [mcsContextualHelp]="textHelpContent.networkField">
        <mcs-select-item>-</mcs-select-item>
        <mcs-select-group [header]="textContent.headers.network">
          <mcs-select-item *ngFor="let network of networkItems" [value]="network.value">
            {{ network.text }}
          </mcs-select-item>
        </mcs-select-group>
      </mcs-select>

      <mcs-error mcsError errorState="required">
        {{ textContent.errors.selectNetworkRequired }}
      </mcs-error>
    </mcs-form-field>
  </div>

  <!-- IP Address setting -->
  <div class="field">
    <mcs-server-ip-address [gateway]="selectedNetwork.gateway"
      [subnetMask]="selectedNetwork.netmask"
      (ipAddressChanged)="onIpAddressChanged($event)">
      <!--Ip address contents on the left hand side (title and description)-->
      <div title>
        <span class="label no-line-height">{{ textContent.ipAddressLabel }}</span>
      </div>
    </mcs-server-ip-address>
  </div>
</form>