<mcs-page [header]="createServerTextContent.header">
  <!-- Top Panel -->
  <mcs-top-panel *mcsTopPanelDef>
    <!-- Server Creation -->
    <mcs-top-panel-item *mcsTopPanelItemDef>
      <div class="action-item right-align" cursor="pointer" (click)="gotoServers()">
        <mcs-icon [key]="backIconKey" size="large"></mcs-icon>
        <span>{{ createServerTextContent.backToServers }}</span>
      </div>
    </mcs-top-panel-item>
  </mcs-top-panel>
  <!-- Content Panel -->
  <mcs-content-panel *mcsContentPanelDef>
    <div class="contextual-help-page-wrapper">
      <div class="page-information-wrapper limited-view">
        <!-- Generic Wizard -->
        <mcs-wizard (onCancel)="gotoServers()" (onComplete)="onDeployServer()">
          <!-- Step 1 -->
          <mcs-wizard-step stepTitle="1. Server Details"
            [valid]="isServersValid">
            <section class="server-details">
              <mcs-dropdown name="dropdownDefault"
                placeholder="Loading VDC..."
                [(ngModel)]="vdcValue" [dropdownData]="vdcList"
                [mcsContextualHelp]="contextualTextContent.intellicentre"></mcs-dropdown>

              <div class="new-servers-container" #selfManagedServersElement>
                <!-- This will dynamically populated during runtime when adding servers -->
                <div *ngIf="isLoading" class="text-center">
                  <mcs-icon  [key]="spinnerIconKey" size="xlarge" style="margin: 10px auto;"></mcs-icon>
                </div>
              </div>

              <!-- TODO: Templorary disable multiple server deployment for phase 1 -->
              <!-- <div class="additional-server-container vspace-small">
                <div class="add-server clickable-text" (click)="addServer()">
                  <mcs-icon [key]="addIconKey" size="large"></mcs-icon>
                  <span class="clickable-text">Add another server</span>
                </div>
              </div> -->
            </section>
          </mcs-wizard-step>

          <!-- Step 2  -->
          <mcs-wizard-step stepTitle="2. Go!">
            <section class="jobs-progress" *ngIf="hasNotifications">
              <mcs-provisioning-notifications [jobs]="notifications"
                [mcsContextualHelp]="contextualTextContent.provisioningNotifications">
              </mcs-provisioning-notifications>
            </section>
          </mcs-wizard-step>
        </mcs-wizard>
      </div>
      <div class="contextual-information-wrapper">
          <mcs-contextual-help
          [contextualInformations]="getAllContextualInformations()"></mcs-contextual-help>
      </div>
    </div>
  </mcs-content-panel>
</mcs-page>