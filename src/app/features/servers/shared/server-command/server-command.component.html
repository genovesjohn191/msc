<a mcsPopover #popoverActionElement="mcsPopover" padding="none" priority="low"
  placement="bottom" orientation="left" theme="light" [content]="cogContent">
  <mcs-icon [key]="gearIconKey" size="medium"></mcs-icon>
</a>

<ng-template #cogContent>
  <div class="cog-actions-wrapper">
    <ng-container *ngIf="getIncludedCommand(serverCommandEnum.Start)">
      <a mcsButton="basic" color="white" labelPlacement="left"
        (click)="onExecuteCommand(serverCommandEnum.Start)"
        [disabled]="!server.startable"
        mcsId
        mcsEventTracker="start"
        mcsEventCategory="server"
        mcsEventLabel="server-command-tool">
        {{ textContent.start }}
      </a>
    </ng-container>

    <ng-container *ngIf="getIncludedCommand(serverCommandEnum.Stop)">
      <a mcsButton="basic" color="white" labelPlacement="left"
        (click)="onExecuteCommand(serverCommandEnum.Stop)"
        [disabled]="!server.stoppable"
        mcsId
        mcsEventTracker="stop"
        mcsEventCategory="server"
        mcsEventLabel="server-command-tool">
        {{ textContent.stop }}
      </a>
    </ng-container>

    <ng-container *ngIf="getIncludedCommand(serverCommandEnum.Restart)">
      <a mcsButton="basic" color="white" labelPlacement="left"
        (click)="onExecuteCommand(serverCommandEnum.Restart)"
        [disabled]="!server.restartable"
        mcsId
        mcsEventTracker="restart"
        mcsEventCategory="server"
        mcsEventLabel="server-command-tool">
        {{ textContent.restart }}
      </a>
    </ng-container>

    <ng-container *ngIf="getIncludedCommand(serverCommandEnum.Suspend)">
      <a mcsButton="basic" color="white" labelPlacement="left"
        (click)="onExecuteCommand(serverCommandEnum.Suspend)"
        [disabled]="!server.suspendable"
        mcsId
        mcsEventTracker="suspend"
        mcsEventCategory="server"
        mcsEventLabel="server-command-tool">
        {{ textContent.suspend }}
      </a>
    </ng-container>

    <ng-container *ngIf="getIncludedCommand(serverCommandEnum.Resume)">
      <a mcsButton="basic" color="white" labelPlacement="left"
        (click)="onExecuteCommand(serverCommandEnum.Resume)"
        [disabled]="!server.resumable"
        mcsId
        mcsEventTracker="resume"
        mcsEventCategory="server"
        mcsEventLabel="server-command-tool">
        {{ textContent.resume }}
      </a>
    </ng-container>

    <!-- Remove temporarily -->
    <ng-container *ngIf="server.isSelfManaged">
      <ng-container *ngIf="getIncludedCommand(serverCommandEnum.Scale)">
        <a mcsButton="basic" color="white" labelPlacement="left"
          (click)="onExecuteCommand(serverCommandEnum.Scale)"
          [disabled]="!server.scaleable"
          mcsId
          mcsEventTracker="scale"
          mcsEventCategory="server"
          mcsEventLabel="server-command-tool">
          {{ textContent.scale }}
        </a>
      </ng-container>
    </ng-container>

    <ng-container *ngIf="server.isSelfManaged">
      <ng-container *ngIf="getIncludedCommand(serverCommandEnum.Clone)">
        <a mcsButton="basic" color="white" labelPlacement="left"
          (click)="onExecuteCommand(serverCommandEnum.Clone)"
          [disabled]="!server.cloneable"
          mcsId
          mcsEventTracker="clone"
          mcsEventCategory="server"
          mcsEventLabel="server-command-tool">
          {{ textContent.clone }}
        </a>
      </ng-container>
    </ng-container>

    <ng-container *ngIf="server.isSelfManaged">
      <a mcsButton="basic" color="white" labelPlacement="left"
        (click)="onExecuteCommand(serverCommandEnum.Rename)"
        [disabled]="!server.renameable"
        mcsId
        mcsEventTracker="rename"
        mcsEventCategory="server"
        mcsEventLabel="server-command-tool">
        {{ textContent.rename }}
      </a>
    </ng-container>

    <ng-container *ngIf="getIncludedCommand(serverCommandEnum.Delete)">
      <ng-container *ngIf="server.isSelfManaged">
        <a mcsButton="basic" color="white" labelPlacement="left"
          (click)="onExecuteCommand(serverCommandEnum.Delete)"
          [disabled]="!server.deletable"
          mcsId
          mcsEventTracker="delete"
          mcsEventCategory="server"
          mcsEventLabel="server-command-tool">
          {{ textContent.delete }}
        </a>
      </ng-container>
    </ng-container>

    <ng-container *ngIf="getIncludedCommand(serverCommandEnum.ViewVCloud)">
      <a mcsButton="basic" color="white" labelPlacement="left"
        (click)="onExecuteCommand(serverCommandEnum.ViewVCloud)"
        [disabled]="server.isDeleting"
        mcsId
        mcsEventTracker="view-in-portal"
        mcsEventCategory="server"
        mcsEventLabel="server-command-tool">
        {{ textContent.viewVCloud }}
      </a>
    </ng-container>

    <ng-container *ngIf="getIncludedCommand(serverCommandEnum.ResetVmPassword)">
      <a mcsButton="basic" color="white" labelPlacement="left"
        (click)="onExecuteCommand(serverCommandEnum.ResetVmPassword)"
        [disabled]="!server.canResetPassword"
        mcsId
        mcsEventTracker="reset-password"
        mcsEventCategory="server"
        mcsEventLabel="server-command-tool">
        {{ textContent.resetVmPassword }}
      </a>
    </ng-container>
  </div>
</ng-template>