<div class="server-performance-scale-container">
  <div class="description">
    <ng-container *ngIf="inputManageType == inputManageTypeEnum.Slider">
      <!-- We need to hardcode this instead of putting in the text-config since it is using a pipe -->
      <span>{{ textContent.sliderMessage }} This VDC has {{ availableMemoryMB | mcsDataSize: 'MB' }} RAM and {{ availableCpuCount }} vCPU available.</span>
    </ng-container>
    <ng-container *ngIf="inputManageType == inputManageTypeEnum.Custom">
      <span>{{ textContent.customMessage }}</span>
    </ng-container>
  </div>

  <div class="custom-size">
    <a *ngIf="inputManageType == inputManageTypeEnum.Slider"
      (click)="onChangeInputManageType(inputManageTypeEnum.Custom)">
        {{ textContent.customSwitch }}</a>
    <a *ngIf="inputManageType == inputManageTypeEnum.Custom"
      (click)="onChangeInputManageType(inputManageTypeEnum.Slider)">
        {{ textContent.sliderSwitch }}</a>
  </div>

  <!--Custom size content element-->
  <form [formGroup]="serverScaleForm">
    <div *ngIf="inputManageType == inputManageTypeEnum.Custom">
      <div animate trigger="fadeIn" display-flex="column" align-items="flex-start">

        <div class="inline-field">
          <mcs-form-field class="form-field-size-small" [ngStyle]="{width: '150px'}">
            <input mcsInput placeholder="Enter RAM"
              [ngModel]="customMemoryGBValue"
              [formControl]="serverScaleCustomRam">
            <mcs-suffix mcsSuffix>{{ textContent.ramUnit }}</mcs-suffix>

            <mcs-hint mcsHint align="start">
              {{ textContent.maximumRam }}: {{ availableMemoryMB | mcsDataSize: 'MB' }}
            </mcs-hint>
            <mcs-error mcsError errorState="required">
              {{ textContent.errors.ramRequired }}
            </mcs-error>
            <mcs-error mcsError errorState="min">
              {{ ramMinValueText }}
            </mcs-error>
            <mcs-error mcsError errorState="numeric">
              {{ textContent.errors.ramNumeric }}
            </mcs-error>
            <mcs-error mcsError errorState="invalidRam">
              {{ invalidCustomMemoryValueMessage }}
            </mcs-error>
            <mcs-error mcsError errorState="maxRamError">
              {{ invalidCustomMemoryMaxValueMessage }}
            </mcs-error>
          </mcs-form-field>
        </div>

        <div class="inline-field">
          <mcs-form-field class="form-field-size-small" [ngStyle]="{width: '150px'}">
            <input mcsInput placeholder="Enter CPU"
              [ngModel]="customCpuCountValue"
              [formControl]="serverScaleCustomCpu">
            <mcs-suffix mcsSuffix>{{ textContent.cpuUnit }}</mcs-suffix>

            <mcs-hint mcsHint align="start">
              {{ textContent.maximumCpu }}: {{ availableCpuCount }} vCPU
            </mcs-hint>
            <mcs-error mcsError errorState="required">
              {{ textContent.errors.cpuRequired }}
            </mcs-error>
            <mcs-error mcsError errorState="min">
              {{ cpuMinValueText }}
            </mcs-error>
            <mcs-error mcsError errorState="numeric">
              {{ textContent.errors.cpuNumeric }}
            </mcs-error>
            <mcs-error mcsError errorState="invalidCpu">
              {{ invalidCustomCpuValueMessage }}
            </mcs-error>
            <mcs-error mcsError errorState="maxCpuError">
              {{ invalidCustomCpuMaxValueMessage }}
            </mcs-error>
          </mcs-form-field>
        </div>
      </div>

    </div>
  </form>

  <!--Slider content element-->
  <div *ngIf="inputManageType == inputManageTypeEnum.Slider">
    <div class="scale">
      <mcs-slider animate trigger="fadeIn"
        [min]="minimum" [max]="maximum"
        [ngModel]="sliderValue"
        (ngModelChange)="onSliderChanged($event)"></mcs-slider>
      <span class="scale-label">
        {{ currentServerScale.memoryMB + ' ' +
          textContent.ramUnit + ' ' +
            textContent.ramLabel }} /
        {{ currentServerScale.cpuCount + ' ' + textContent.cpuUnit }}
      </span>
    </div>
  </div>
</div>