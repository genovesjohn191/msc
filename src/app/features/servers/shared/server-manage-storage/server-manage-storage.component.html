<div class="server-manage-storage-container">
  <div display-flex flex="auto">
    <div display-flex="column" flex="auto" class="vertical-items-spacing-small">
      <ng-content select="[title]"></ng-content>
      <ng-content select="[details]"></ng-content>
    </div>

    <div flex="none" display-flex justify-content="flex-end"
      [disabled]="disabled || !hasAvailableStorageSpace">
      <a *ngIf="inputManageType == inputManageTypeEnum.Slider"
        (click)="onChangeInputManageType(inputManageTypeEnum.Custom)">
          {{ textContent.customSwitch }}</a>
      <a *ngIf="inputManageType == inputManageTypeEnum.Custom"
        (click)="onChangeInputManageType(inputManageTypeEnum.Slider)">
          {{ textContent.sliderSwitch }}</a>
    </div>
  </div>

  <div [ngSwitch]="inputManageType" class="description">
    <div *ngSwitchCase="inputManageTypeEnum.Slider">{{ textContent.sliderMessage }}</div>
    <div *ngSwitchCase="inputManageTypeEnum.Custom">{{ textContent.customMessage }}</div>
  </div>

  <!--Storage profile content element (dropdown)-->
  <div *ngIf="storageProfileList" animate trigger="fadeIn">
    <mcs-form-field>
      <mcs-select [(ngModel)]="storageProfileValue"
        placeholder="Select storage profile">
        <mcs-select-group header="Storage Profiles">
          <mcs-select-item *ngFor="let storageProfile of storageProfileList"
            [value]="storageProfile.value">
            {{ storageProfile.text }}
          </mcs-select-item>
        </mcs-select-group>
      </mcs-select>
    </mcs-form-field>
  </div>

  <!--Custom size content element-->
  <form *ngIf="inputManageType == inputManageTypeEnum.Custom && hasAvailableStorageSpace"
    [formGroup]="formGroupServerStorage" class="custom-size-form">

    <div animate trigger="fadeIn" display-flex align-items="center"
      class="horizontal-items-spacing-medium">
      <span class="label">{{ textContent.label }} : </span>

      <mcs-form-field [ngStyle]="{width: '150px'}">
        <input mcsInput placeholder="Enter storage"
          [ngModel]="customStorageValue"
          [formControl]="fcServerStorageCustom">
        <mcs-suffix mcsSuffix>{{ textContent.unit }}</mcs-suffix>

        <mcs-error mcsError errorState="required">
          {{ textContent.errors.storageRequired }}
        </mcs-error>
        <mcs-error mcsError errorState="numeric">
          {{ textContent.errors.storageNumeric }}
        </mcs-error>
        <mcs-error mcsError errorState="min">
          {{ storageMinValueText }}
        </mcs-error>
        <mcs-error mcsError errorState="storageAvailable">
          {{ storageAvailableText }}
        </mcs-error>
      </mcs-form-field>
    </div>
  </form>

  <!--Slider content element-->
  <div *ngIf="inputManageType == inputManageTypeEnum.Slider
    && hasAvailableStorageSpace" class="slider-content">

    <mcs-slider animate trigger="fadeIn"
      [min]="minimum" [max]="maximum"
      [disabled]="disabled"
      [ngModel]="storageSliderValue"
      (ngModelChange)="onStorageChanged($event)"></mcs-slider>
    <span animate trigger="fadeIn" class="storage-label">
      {{ currentMemory }}
    </span>
    <span animate trigger="fadeIn" class="available-label">
      ({{ remainingMemory }} Remaining)
    </span>
  </div>

  <!-- Insufficient Storage Capacity Warning Message -->
  <div *ngIf="storageProfileValue && !hasAvailableStorageSpace">
    <div animate trigger="fadeIn" class="storage-full-warning">
      <mcs-icon [key]="warningIconKey" size="xlarge"></mcs-icon>
      <h4 class="squishy">{{ textContent.fullStorageSpace }}</h4>
    </div>
  </div>
</div>