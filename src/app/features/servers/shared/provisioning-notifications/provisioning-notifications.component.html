<section class="provisioning-notifications-container">
  <!-- Progress Information -->
  <div class="vertical-items-spacing-medium">
    <h4 class="title">{{ getTitle() }}</h4>
    <mcs-progress-bar *ngIf="progressBarVisibility" animate [trigger]="animateTrigger"
      [(ngModel)]="progressValue" [maxValue]="progressMax"></mcs-progress-bar>
  </div>

  <!-- Job Details -->
  <div class="jobs-container">
    <div *ngFor="let job of jobs">
      <h4 *ngIf="isMultiJobs">{{ job.description }}</h4>

      <!-- Tasks content -->
      <div class="task-content" *ngIf="job.tasks">
        <div *ngFor="let task of job.tasks" class="status-details">

          <mcs-icon [ngClass]="getStatusIcon(task.dataStatus).class"
            [key]="getStatusIcon(task.dataStatus).key"
            [color]="getStatusIcon(task.dataStatus).color"
            size="small"></mcs-icon>
          <span>{{ task.description }}</span>
        </div>
      </div>

      <!-- Job completed -->
      <div *ngIf="isJobCompleted(job)" class="job-completed">
        <!-- In case of success -->
        <div *ngIf="isJobSuccessful(job)" class="status-details">
          <mcs-icon [ngClass]="getStatusIcon(job.dataStatus).class"
            [key]="getStatusIcon(job.dataStatus).key"
            [color]="getStatusIcon(job.dataStatus).color"
            size="small"></mcs-icon>
          <span class="font-bold">{{ textContent.deploymentCompleted }}</span>
        </div>
        <a *ngIf="isJobSuccessful(job)" (click)="onViewServerPage()"
          class="link">{{ textContent.viewServerLink }}</a>

        <!-- In case of Error -->
        <div *ngIf="!isJobSuccessful(job)" class="status-details">
          <mcs-alert type="failed" [title]="textContent.deploymentFailed">
            <span>{{ job.errorMessage }}</span>
          </mcs-alert>
        </div>
      </div>
    </div>
  </div>
</section>