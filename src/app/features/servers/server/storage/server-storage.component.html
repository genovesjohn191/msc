<div class="mcs-server-storage">
  <h3 class="heading">{{ serverStorageText.title }}</h3>
  <div *ngIf="!increaseStorage" class="details">
    <div class="primary">
      <span class="title">{{ serverStorageText.primary }} : </span>
      <span class="font-normal">{{ primaryStorage.capacityInGb + serverStorageText.unit }}</span>
      <span class="increase">
        <a (click)="onIncreaseStorage(primaryStorage)">{{ serverStorageText.increaseStorage }}</a>
      </span>
    </div>
    <div *ngIf="hasOtherStorage" class="other-storage-container">
      <h4>{{ serverStorageText.other }} : </h4>
      <ul class="unstyled-list other-storage">
        <li *ngFor="let storage of otherStorage">
          <span class="path">
            <mcs-icon [key]="storageIconKey" size="small"></mcs-icon>
            <span>{{ storage.path }}</span>
          </span>
          <span class="capacity">{{ storage.capacityInGb + serverStorageText.unit }}</span>
          <span class="increase">
            <a (click)="onIncreaseStorage(storage)">{{ serverStorageText.increaseStorage }}</a>
          </span>
          <span class="delete">
            <a [mcsModal]="deleteStorageAlert" modalSize="medium"
              #deleteStorageModal="mcsModal">
                {{ serverStorageText.deleteStorage }}</a>
            <ng-template #deleteStorageAlert>
              <div modal-title>
                <span>Delete {{ storage.path }} Storage</span>
              </div>
              <div modal-body>
                <div class="delete-storage-alert-container">
                  <mcs-alert type="warning"
                    [title]="getDeleteStorageAlertMessage(storage)">
                      <span>{{ serverStorageText.deleteStorageConfirmation }}</span>
                  </mcs-alert>
                  <div class="confirm">
                    <mcs-button size="small" (click)="deleteStorageModal.close()">Yes</mcs-button>
                    <mcs-button size="small" (click)="deleteStorageModal.close()">No</mcs-button>
                  </div>
                </div>
              </div>
            </ng-template>
          </span>
        </li>
      </ul>
    </div>
    <div class="add-new-storage">
      <mcs-server-manage-storage
        [memoryGB]="storageMemoryInGb" [remainingMemoryGB]="storageAvailableMemoryInGb"
          [storageProfiles]="storageProfileItems" (storageChanged)="onStorageChanged($event)">
        <!--Server manage storage contents on the left hand side (description)-->
        <div title>
          <h4>{{ serverStorageText.addStorage }}</h4>
        </div>
      </mcs-server-manage-storage>
      <div class="attach">
        <mcs-button size="small">Attach</mcs-button>
      </div>
    </div>
  </div>

  <div *ngIf="increaseStorage" class="increase-storage">
    <mcs-server-manage-storage
      [memoryGB]="selectedStorage.capacityInGb"
      [remainingMemoryGB]="selectedStorage.freeSpaceInGb"
      (storageChanged)="onStorageChanged($event)">
      <!--Server manage storage contents on the left hand side (description)-->
      <div title>
        <h4>{{ serverStorageText.resizeStorage }}</h4>
      </div>

      <div details>
        <p><strong>Name : </strong> {{ selectedStorage.path }}</p>
        <p><strong>Storage Profile : </strong> </p>
        <p><strong>Current Size : </strong> {{ selectedStorage.capacityInGb }}</p>
      </div>
    </mcs-server-manage-storage>
    <div class="update">
      <span><a (click)="closeIncreaseStorageBox()">Cancel</a></span>
      <mcs-button size="small" (click)="closeIncreaseStorageBox()">Update</mcs-button>
    </div>
  </div>
</div>