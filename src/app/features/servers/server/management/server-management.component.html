<section *ngIf="server && !isServerScale" class="server-management-container">
  <div class="server-details">
    <div class="row">
      <div class="col">
        <h3>{{ serverManagementTextContent.vmProperties.title }}</h3>
        <ul class="unstyled-list">
          <!-- Image -->
          <li>{{ serverManagementTextContent.vmProperties.image }}: {{ server.guestOs }}</li>

          <!-- Zone -->
          <li>{{ serverManagementTextContent.vmProperties.zone }}: {{ server.availabilityZone }}</li>

          <!-- Configuration -->
          <li>
            <div class="server-configuration">
              <span>{{ serverManagementTextContent.vmProperties.configuration }}:</span>
              <span>{{ serverMemoryValue }} / {{ serverCpuValue }}</span>
              <span *mcsHasPermission="['VmEdit']">
                <a *ngIf="!isScaling" (click)="scaleServer()">
                {{ serverManagementTextContent.performanceScale.scale }}</a>
              </span>
              <mcs-icon *ngIf="isScaling" [key]="spinnerIconKey" size="medium"
                mcsPopover trigger="hover" maxWidth="250px"
                padding="narrow" [content]="scalingContent"></mcs-icon>
              <ng-template #scalingContent>
                <span class="scaling-content-popover">
                  {{ serverManagementTextContent.performanceScale.scaling }}
                </span>
              </ng-template>
            </div>
          </li>

          <!-- Media -->
          <li>{{ serverManagementTextContent.vmProperties.media }}:
            <ul class="unstyled-list server-media" *ngIf="hasMedia; else elseBlock">
              <li *ngFor="let media of server.media">{{ media.mediaName }}</li>
            </ul>
            <ng-template #elseBlock>None</ng-template>
            <!-- TODO: Removed temporarily since it has no functionality yet -->
            <!-- <a>Attach</a> -->
          </li>
        </ul>
      </div>

      <!-- Console -->
      <div class="col">
        <div class="server-thumbnail">
          <h3 class="thumbnail-title">{{ serverManagementTextContent.vmConsole.title }}</h3>
           <div (click)="onClickViewConsole()" class="view-console"
              [ngClass]="{'enabled': consoleEnabled, 'disabled': !consoleEnabled }">
             <div class="thumbnail-container">
               <img #thumbnailElement class="thumbnail"/>
             </div>
            <a>{{ serverManagementTextContent.vmConsole.link }}</a>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col">
        <h3>{{ serverManagementTextContent.storage.title }}
          <a *mcsHasPermission="['VmEdit']" [routerLink]="['../storage']">Manage</a>
        </h3>
        <span *ngIf="!hasStorageInformation" class="missing-data-info">{{ serverManagementTextContent.storage.noContentMessage }}</span>
        <ul class="unstyled-list server-storage" *ngIf="hasStorageInformation">
          <!-- Primary Volume -->
          <li>{{ serverManagementTextContent.storage.primaryVolume }}: {{ primaryVolume }}</li>

          <!-- Secondary Volume -->
          <li *ngIf="secondaryVolumes">
            {{ serverManagementTextContent.storage.secondaryVolumes }}: {{ secondaryVolumes }}
          </li>

          <!-- Storage Policy -->
          <li *ngIf="server.storagePolicy">
            {{ serverManagementTextContent.storage.storagePolicy }}: {{ server.storagePolicy }}
          </li>
        </ul>
      </div>

       <div class="col">
        <h3>{{ serverManagementTextContent.networkInformation.title }}</h3>
        <span *ngIf="!hasNetworkInformation" class="missing-data-info">{{ serverManagementTextContent.networkInformation.noContentMessage }}</span>
        <ul class="unstyled-list server-interfaces">
          <!-- Network Interface -->
          <li *ngFor="let interface of server.interfaces; let i = index">
            {{ serverManagementTextContent.networkInformation.interface }} {{ i }} :
            <span>{{ mergeIpAddresses(interface.ipAddress) }}</span>
          </li>
        </ul>
      </div>
    </div>

    <div class="row">
      <div class="col">
        <h3>{{ serverManagementTextContent.supportIdentifiers.title }}</h3>
        <ul class="unstyled-list">
          <!-- VDC -->
          <li>{{ serverManagementTextContent.supportIdentifiers.vdc }}: {{ server.vdcName }}</li>

          <!-- MacView Service ID -->
          <li>{{ serverManagementTextContent.supportIdentifiers.macViewServiceId }}: {{ server.serviceId }}</li>

          <!-- VMWare ID -->
          <li>{{ serverManagementTextContent.supportIdentifiers.vmWareId }}: {{ server.instanceId }}</li>
        </ul>
      </div>
    </div>
  </div>

</section>

<section *ngIf="server && isServerScale" class="server-performance-scale-container">
  <h3>Scaling {{ server.managementName }}</h3>
  <mcs-server-performance-scale
    [memoryMB]="server.memoryMB" [cpuCount]="server.cpuCount"
    [availableMemoryMB]="remainingMemory" [availableCpuCount]="remainingCpu"
    (scaleChanged)="onScaleChanged($event)">

    <!--Performance scale container-->
    <span slider-details>
      {{ serverManagementTextContent.performanceScale.sliderGuidance }}
    </span>
    <span custom-details>
      {{ serverManagementTextContent.performanceScale.customGuidance }}
    </span>
  </mcs-server-performance-scale>

  <div *ngIf="isPoweredOn" class="note">
    <mcs-icon [key]="warningIconKey" size="medium"></mcs-icon>
    <span>{{ serverManagementTextContent.performanceScale.warning }}</span>
  </div>

  <div class="scaling">
    <a class="text-underline" (click)="cancelScale()">
      {{ serverManagementTextContent.performanceScale.cancel }}</a>
    <mcs-button *mcsHasPermission="['VmEdit']" icon="arrow" class="scale"
      [disabled]="!hasUpdate" (click)="onClickScale()">
        {{ serverManagementTextContent.performanceScale.scale }}</mcs-button>
  </div>
</section>