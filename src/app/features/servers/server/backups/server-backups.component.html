<div class="limited-view">
  <!-- Loader settings -->
  <div [mcsLoader]="serverResourceSubscription"
    [mcsLoaderHideElement]="snapshotContent"
    [mcsLoaderText]="textContent.loading"
    mcsLoaderOrientation="top"></div>

  <div #snapshotContent>
    <div class="container-wrapper">
      <h3 class="container-header">{{ textContent.snapshotHeader }}</h3>
      <div class="space-between-inline-items">
        <p [innerHTML]="textContent.snapshotDescription"></p>
        <div>
          <button mcsButton size="small" [disabled]="!enabledActions"
            (click)="createSnapshot()">{{ textContent.createSnapshot }}</button>
        </div>
      </div>
      <div>
        <strong class="space-bottom-small block">{{ textContent.snapshots }}</strong>

        <!-- Loader settings -->
        <div class="position-relative">
          <div [mcsLoader]="serverSnapshotsSubscription"
            [mcsLoaderHideElement]="snapshotsContent"></div>
        </div>

        <!-- Snapshots -->
        <div #snapshotsContent>
          <div *ngIf="hasSnapshot" class="space-between-inline-items">
            <div class="inline-items-xsmall">
              <mcs-icon *ngIf="snapshotProcessing" [key]="spinnerIconKey"
                size="small" [mcsTooltip]="server.processingText"></mcs-icon>
              <span>{{ convertDateToString(server.snapshot.createdOn) }}</span>
            </div>
            <div [disabled]="!enabledActions" class="text-right">
              <a (click)="restoreSnapshot(server.snapshot)">
                {{ textContent.restoreSnapshot }}
              </a>
              <a (click)="deleteSnapshot(server.snapshot)" class="space-left-small">
                {{ textContent.deleteSnapshot }}
              </a>
            </div>
          </div>

          <!-- Warning icon when no snapshots found -->
          <div *ngIf="!hasSnapshot" class="inline-items-small">
            <mcs-icon [key]="warningIconKey"></mcs-icon>
            <span>{{ textContent.noSnapshots }}</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Server Backups -->
    <!-- TODO: Remove ngIf when Backups is working -->
    <div *ngIf="false" class="container-wrapper">
      <h3 class="container-header">{{ textContent.serverBackups }}</h3>
      <p>{{ textContent.serverBackupsDescription }}</p>
      <div>
        <button mcsButton size="small" [disabled]="true">{{ textContent.requestRestore }}</button>
      </div>
    </div>
  </div>
</div>