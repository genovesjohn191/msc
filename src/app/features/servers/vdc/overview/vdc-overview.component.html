<mcs-grid>
  <mcs-grid-row>
    <!-- VDC Properties -->
    <mcs-grid-column sizeSm="12">
      <mcs-presentation-panel mcsId="vdc-properties">
        <ng-container mcsPresentationPanelHeader>
          <h2>{{ textContent.vdcProperties.title }}</h2>
        </ng-container>

        <mcs-item>
          <span>{{ textContent.vdcProperties.serviceType }}:</span>
          <span [innerHTML]="selectedVdc?.serviceTypeLabel | mcsDataLabel"></span>
        </mcs-item>

        <mcs-item>
          <span>{{ textContent.vdcProperties.zone }}:</span>
          <span [innerHTML]="selectedVdc?.availabilityZone | mcsDataLabel"></span>
        </mcs-item>

        <mcs-item>
          <span>{{ textContent.vdcProperties.configuration }}:</span>
          <span [innerHTML]="selectedVdc?.compute?.memoryLimitMBLabel | mcsDataLabel"></span>
          <span>/</span>
          <span [innerHTML]="selectedVdc?.compute?.cpuLimitMBLabel | mcsDataLabel"></span>
        </mcs-item>
      </mcs-presentation-panel>
    </mcs-grid-column>

    <!-- VCloud Director -->
    <mcs-grid-column sizeSm="12">
      <mcs-presentation-panel mcsId="vdc-vcloud-director">
        <ng-container mcsPresentationPanelHeader>
          <h2>{{ textContent.vcloud.title }}</h2>
        </ng-container>

        <ng-container *mcsAccessControl="['VmEdit']">
          <mcs-item *ngIf="hasResources">
            <button mcsButton size="small"
              (click)="createNewServer()"
              mcsId
              mcsEventTracker="new-server"
              mcsEventCategory="vdc"
              mcsEventLabel="vdc-details-page">
              {{ textContent.vcloud.newServer }}
            </button>
          </mcs-item>
        </ng-container>
        <mcs-item *ngIf="selectedVdc.portalUrl">
          <a [href]="selectedVdc.portalUrl" target="_blank"
            mcsId
            mcsEventTracker="view-in-vcloud"
            mcsEventCategory="vdc"
            mcsEventLabel="vdc-details-page">{{ textContent.vcloud.viewVcloud}}</a>
        </mcs-item>
      </mcs-presentation-panel>
    </mcs-grid-column>
  </mcs-grid-row>

  <mcs-grid-row>
    <!-- Network Information -->
    <mcs-grid-column sizeSm="12">
      <mcs-presentation-panel mcsId="vdc-network-information">
        <ng-container mcsPresentationPanelHeader>
          <h2>{{ textContent.networkInformation.title }}</h2>
        </ng-container>
        <p>{{ textContent.networkInformation.description }}</p>

        <mcs-accordion [multi]="true">
          <mcs-accordion-panel *ngFor="let network of selectedVdc.networks; let i = index"
            [expanded]="i === 0">
            <mcs-accordion-panel-header mcsPanelHeaderDef>
              {{ network.name }}
            </mcs-accordion-panel-header>
            <p>{{ textContent.networkInformation.itemDescription }}</p>
            <mcs-item>
              <span>{{ textContent.networkInformation.gateway }}:</span>
              <span [innerHTML]="network.gateway | mcsDataLabel"></span>
            </mcs-item>
          </mcs-accordion-panel>
        </mcs-accordion>
      </mcs-presentation-panel>
    </mcs-grid-column>

    <!-- Storage Profiles -->
    <mcs-grid-column sizeSm="12">
      <mcs-presentation-panel mcsId="vdc-storage-profiles">
        <ng-container mcsPresentationPanelHeader>
          <mcs-item>
            <mcs-icon *ngIf="hasLowStorage" [key]="warningIconKey"></mcs-icon>
            <h2>{{ textContent.storageProfiles.title }}</h2>
            <a (click)="navigateVdcDetailTo(routeKeyEnum.VdcDetailStorage)"
              mcsId="navigate-to-storage"
              mcsEventTracker="navigate-to-storage"
              mcsEventCategory="vdc"
              mcsEventLabel="vdc-details-page">
              {{ textContent.storageProfiles.manageLink }}
            </a>
          </mcs-item>
        </ng-container>

        <span *ngIf="hasLowStorage">{{ storageSummary }}</span>
        <mcs-accordion [multi]="true">
          <mcs-accordion-panel *ngFor="let storage of selectedVdc.storage; let i = index"
            [expanded]="i === 0">
            <mcs-accordion-panel-header mcsPanelHeaderDef>
              <mcs-icon size="small" [key]="getStorageStatusIconKey(storage)"></mcs-icon>
              {{ storage.name }}
            </mcs-accordion-panel-header>

            <mcs-item>
              <span>{{ textContent.storageProfiles.status }}:</span>
              <span [innerHTML]="storage?.toggleLabel | mcsDataLabel"></span>
            </mcs-item>
            <mcs-item *ngIf="storage.iops">
              <span>{{ textContent.storageProfiles.tier }}:</span>
              <span [innerHTML]="(iopsLabelPlaceholder |
                mcsTextPlaceholder: 'iops': storage.iops) |
                mcsDataLabel"></span>
            </mcs-item>
            <mcs-item>
              <span>{{ textContent.storageProfiles.utilisation }}:</span>
              <mcs-capacity-bar full-width
                [(ngModel)]="storage.usedMB"
                [maxValue]="storage.limitMB"></mcs-capacity-bar>
            </mcs-item>

            <mcs-item *ngIf="isStorageProfileLow(storage)">
              <mcs-icon [key]="warningIconKey"></mcs-icon>
              <span>{{ textContent.storageProfiles.lowStorageProfile }}</span>
            </mcs-item>
          </mcs-accordion-panel>
        </mcs-accordion>
      </mcs-presentation-panel>
    </mcs-grid-column>
  </mcs-grid-row>
</mcs-grid>