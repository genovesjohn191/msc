<mcs-presentation-panel>
  <ng-container mcsPresentationPanelHeader>
    <h2>{{ textContent.title }}</h2>
  </ng-container>
  <p *ngIf="textContent.description">{{ textContent.description }}</p>

  <section>
    <mcs-table [dataSource]="serversDataSource">
      <!-- Name Column -->
      <ng-container mcsColumnDef="name">
        <mcs-header-cell *mcsHeaderCellDef>
          {{ textContent.columnHeaders.name }}
        </mcs-header-cell>
        <mcs-data-cell *mcsDataCellDef="let row">
          <mcs-item>
            <ng-container *ngIf="serverIsInProgress(row)">
              <mcs-loader size="small" [mcsTooltip]="selectedMedium.processingText"></mcs-loader>
            </ng-container>
            <span>{{ row.name }}</span>
          </mcs-item>
        </mcs-data-cell>
      </ng-container>

      <!-- Action Column -->
      <ng-container mcsColumnDef="action">
        <mcs-header-cell *mcsHeaderCellDef class="action-header-cell">
        </mcs-header-cell>
        <mcs-data-cell *mcsDataCellDef="let row">
          <a (click)="showDetachDialog(row)"
            [disabled]="selectedMedium.isProcessing"
            mcsId
            mcsEventTracker="detach-action"
            mcsEventCategory="media"
            mcsEventLabel="media-details-page">
            {{ textContent.detachAction }}
          </a>
        </mcs-data-cell>
      </ng-container>

      <!-- Data Status Integration -->
      <ng-container mcsDataStatusDef>
        <mcs-data-empty *mcsDataEmptyDef>
          <span>{{ textContent.noMediaServers }} </span>
        </mcs-data-empty>
        <mcs-data-error *mcsDataErrorDef>
          <span>{{ textContent.errorMediaServers }}</span>
        </mcs-data-error>
      </ng-container>

      <!-- Header and Data row -->
      <mcs-header-row *mcsHeaderRowDef="serversColumns"></mcs-header-row>
      <mcs-data-row *mcsDataRowDef="let row; columns: serversColumns;"></mcs-data-row>
    </mcs-table>

    <!-- Attach servers -->
    <div class="action-box" [disabled]="selectedMedium.isProcessing">
      <mcs-media-manage-servers (dataChange)="onChangeManageServers($event)">
        <ng-container mcsManageServerHeader>
          <h2>{{ textContent.attachServersHeader }}</h2>
        </ng-container>
      </mcs-media-manage-servers>

      <div class="action-items">
        <button mcsButton
          arrow="right" size="small"
          [disabled]="!manageServers?.valid"
          (click)="attachServer()"
          mcsId
          mcsEventTracker="attach-server"
          mcsEventCategory="media"
          mcsEventLabel="media-details-page">
          {{ textContent.attachAction }}
        </button>
      </div>
    </div>
  </section>
</mcs-presentation-panel>