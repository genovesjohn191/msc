<div class="container-wrapper">
  <h4 class="container-header">{{ textContent.title }}</h4>
  <p *ngIf="textContent.description">{{ textContent.description }}</p>

  <div class="block-items-large">
    <mcs-table [dataSource]="serversDataSource">
      <!-- Name Column -->
      <ng-container mcsColumnDef="name">
        <mcs-header-cell *mcsHeaderCellDef>
          {{ textContent.columnHeaders.name }}
        </mcs-header-cell>
        <mcs-data-cell *mcsDataCellDef="let row">
          <div class="inline-items-small">
            <ng-container *ngIf="serverIsInProgress(row)">
              <mcs-icon [key]="spinnerIconKey" size="small"
                [mcsTooltip]="selectedMedium.processingText"></mcs-icon>
            </ng-container>
            <span>{{ row.name }}</span>
          </div>
        </mcs-data-cell>
      </ng-container>

      <!-- Action Column -->
      <ng-container mcsColumnDef="action">
        <mcs-header-cell *mcsHeaderCellDef class="action-header-cell">
        </mcs-header-cell>
        <mcs-data-cell *mcsDataCellDef="let row">
          <a (click)="showDetachDialog(row)" [disabled]="selectedMedium.isProcessing">
            {{ textContent.detachAction }}
          </a>
        </mcs-data-cell>
      </ng-container>

      <!-- Data Status Integration -->
      <ng-container mcsDataStatusDef>
        <mcs-data-empty *mcsDataEmptyDef>
          <span>{{ textContent.noMediaServers }} </span>
        </mcs-data-empty>
        <mcs-data-error *mcsDataErrorDef>
          <span>{{ textContent.errorMediaServers }}</span>
        </mcs-data-error>
      </ng-container>

      <!-- Header and Data row -->
      <mcs-header-row *mcsHeaderRowDef="serversColumns"></mcs-header-row>
      <mcs-data-row *mcsDataRowDef="let row; columns: serversColumns;"></mcs-data-row>
    </mcs-table>

    <!-- Attach servers -->
    <div class="action-box" [disabled]="selectedMedium.isProcessing">
      <mcs-media-manage-servers (dataChange)="onChangeManageServers($event)">
        <ng-container mcsManageServerHeader>
          <h4>{{ textContent.attachServersHeader }}</h4>
        </ng-container>
      </mcs-media-manage-servers>

      <div class="action-items">
        <button mcsButton
          id="ctaAttachServer"
          arrow="right" size="small"
          [disabled]="!manageServers?.valid"
          (click)="attachServer()"
          mcsEventTracker="attach-server"
          mcsEventCategory="server"
          mcsEventLabel="media-servers-page">
          {{ textContent.attachAction }}
        </button>
      </div>
    </div>
  </div>
</div>