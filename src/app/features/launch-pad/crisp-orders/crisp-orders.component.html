<mcs-page [header]="'launchPadCrispOrders.header' | translate" leftPanelExpandedByDefault="true">
  <!-- Left Panel -->
  <mcs-left-panel *mcsLeftPanelDef="'launchPadCrispOrders.filterHeader' | translate">
    <!-- Search -->
    <mcs-left-panel-item *mcsLeftPanelItemDef>
      <mcs-search #search mcsId="crisp-elements-search"></mcs-search>
    </mcs-left-panel-item>

    <!-- Column Filter -->
    <mcs-left-panel-item *mcsLeftPanelItemDef header="MCS_Test1" offset="0">

      <mat-tree [dataSource]="dataSource" [treeControl]="treeControl" class="crisp-elements-tree">
        <!-- This is the tree node template for leaf nodes -->
        <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle>
          <li class="mat-tree-node">
            <!-- use a disabled button to provide padding for tree leaf -->
            <mcs-workflow-selector-launcher [config]="node.config" (selected)="clickNode($event)">
            </mcs-workflow-selector-launcher>
          </li>
        </mat-tree-node>

        <!-- This is the tree node template for expandable nodes -->
        <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
          <li>
            <div class="mat-tree-node">
              <button mat-icon-button matTreeNodeToggle
                      [attr.aria-label]="'Toggle ' + node.name">
                <mat-icon class="mat-icon-rtl-mirror">
                  {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
                </mat-icon>
              </button>
              <mcs-workflow-selector-launcher *ngIf="node?.config; else nonClickable" [config]="node.config" (selected)="clickNode($event)">
              </mcs-workflow-selector-launcher>
              <ng-template #nonClickable>
                {{node.name}}
              </ng-template >
            </div>
            <ul [class.hide]="!treeControl.isExpanded(node)">
              <ng-container matTreeNodeOutlet></ng-container>
            </ul>
          </li>
        </mat-nested-tree-node>
      </mat-tree>

    </mcs-left-panel-item>
  </mcs-left-panel>

  <!-- Content Panel -->
  <mcs-content-panel *mcsContentPanelDef>
    <mcs-launch-pad #launchPad [config]="config" *ngIf="config; else workflowList"></mcs-launch-pad>

    <ng-template #workflowList>
      <mat-grid-list cols="2" rowHeight="2:1" >
        <mat-grid-tile>
          List of workflows...
        </mat-grid-tile>
        <mat-grid-tile>
          List of workflows...
        </mat-grid-tile>
        <mat-grid-tile>
          List of workflows...
        </mat-grid-tile>
        <mat-grid-tile>
          List of workflows...
        </mat-grid-tile>
      </mat-grid-list>
    </ng-template>
    
  </mcs-content-panel>
</mcs-page>
