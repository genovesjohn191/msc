<div class="form-group" [formGroup]="form" >
  <div *ngFor="let input of controlDataItems" class="form-row">
    <div  [ngSwitch]="input.template" >
      <mat-error *ngIf="!isValid(input.key)">
        {{ getErrorMessage(input.key) }}
      </mat-error>

      <mcs-dff-input-text-field *ngSwitchCase="'input-text'"
        #control [formControlName]="input.key" [data] ="input" (dataChange)="onDataChange($event)">
      </mcs-dff-input-text-field>

      <mcs-dff-input-number-field *ngSwitchCase="'input-number'"
        #control [formControlName]="input.key" [data] ="input" (dataChange)="onDataChange($event)">
      </mcs-dff-input-number-field>

      <mcs-dff-input-random-field *ngSwitchCase="'input-random'"
        #control [formControlName]="input.key" [data] ="input" (dataChange)="onDataChange($event)">
      </mcs-dff-input-random-field>

      <mcs-dff-select-field *ngSwitchCase="'select'"
        #control [formControlName]="input.key" [data] ="input" (dataChange)="onDataChange($event)">
      </mcs-dff-select-field>

      <mcs-dff-select-group-field *ngSwitchCase="'select-group'"
        #control [formControlName]="input.key" [data] ="input" (dataChange)="onDataChange($event)">
      </mcs-dff-select-group-field>

      <mcs-dff-select-multiple-field *ngSwitchCase="'select-multiple'"
        #control [formControlName]="input.key" [data] ="input" (dataChange)="onDataChange($event)">
      </mcs-dff-select-multiple-field>

      <mcs-dff-select-network-field *ngSwitchCase="'select-network'"
        #control [formControlName]="input.key" [data] ="input" (dataChange)="onDataChange($event)">
      </mcs-dff-select-network-field>

      <mcs-dff-select-os-field *ngSwitchCase="'select-os'"
        #control [formControlName]="input.key" [data] ="input" (dataChange)="onDataChange($event)">
      </mcs-dff-select-os-field>

      <mcs-dff-select-storage-profile-field *ngSwitchCase="'select-storage-profile'"
        #control [formControlName]="input.key" [data] ="input" (dataChange)="onDataChange($event)">
      </mcs-dff-select-storage-profile-field>

      <mcs-dff-select-vdc-field *ngSwitchCase="'select-vdc'"
        #control [formControlName]="input.key" [data] ="input" (dataChange)="onDataChange($event)">
      </mcs-dff-select-vdc-field>
    </div>
  </div>

  <br />
  <button mat-raised-button color="primary" [disabled]="!form.valid" (click)="submitForm()">Submit</button>
  <br />
  <br />
  <br />
  <span>Form Status: </span> <strong>{{formStatus}}</strong>
  <h3>Payload</h3>
  <textarea cols="30" rows="10" 
    style="width: 500px; min-height: 30rem; font-family: 'Lucida Console', Monaco, monospace;
    font-size: 1rem; border: none; position: fixed;
    top: 120px;
    right: 200px;
    line-height: 1.2;">{{ payLoad }}</textarea>
</div>
